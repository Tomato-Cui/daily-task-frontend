{"version":3,"file":"detail.js","sources":["pages/tasks/detail/detail.vue","../../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGFza3MvZGV0YWlsL2RldGFpbC52dWU"],"sourcesContent":["<template>\n\t<view class=\"detail-container\">\n\t\t<!-- 顶部信息栏 -->\n\t\t<view class=\"detail-header\">\n\t\t\t<view class=\"header-top\">\n\t\t\t\t<view class=\"back-button\" @tap=\"goBack\">\n\t\t\t\t\t<text class=\"back-icon\">←</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"header-title\">任务详情</text>\n\t\t\t\t<view class=\"header-placeholder\"></view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 加载状态 -->\n\t\t<view v-if=\"isLoading\" class=\"loading-container\">\n\t\t\t<view class=\"loading-spinner\"></view>\n\t\t\t<text class=\"loading-text\">加载中...</text>\n\t\t</view>\n\n\t\t<!-- 任务详情内容（只在数据加载完成后显示） -->\n\t\t<template v-else>\n\t\t\t<scroll-view scroll-y class=\"detail-content\">\n\t\t\t\t<!-- 任务卡片 -->\n\t\t\t\t<view class=\"task-card\">\n\t\t\t\t\t<!-- 任务标题和状态 -->\n\t\t\t\t\t<view class=\"task-header\">\n\t\t\t\t\t\t<text class=\"task-title\">{{ task.title }}</text>\n\t\t\t\t\t\t<text class=\"task-status\" :class=\"getStatusClass(task.status)\">{{ getStatusText(task.status) }}</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 发布者信息 -->\n\t\t\t\t\t<view class=\"publisher-info\">\n\t\t\t\t\t\t<image :src=\"task.publisher.avatar\" class=\"publisher-avatar\"></image>\n\t\t\t\t\t\t<text class=\"publisher-name\">{{ task.publisher.name }}</text>\n\t\t\t\t\t\t<text class=\"publish-time\">发布于 {{ formatDate(task.publishTime) }}</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 任务基本信息 -->\n\t\t\t\t\t<view class=\"task-info-section\">\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">报酬：</text>\n\t\t\t\t\t\t\t<text class=\"info-value reward-value\">¥{{ task.reward }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">截止日期：</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ formatDate(task.deadline) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">工作地点：</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ task.location }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t\t<text class=\"info-label\">所需人数：</text>\n\t\t\t\t\t\t\t<text class=\"info-value\">{{ task.requiredPeople }}人</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 任务描述 -->\n\t\t\t\t\t<view class=\"task-description-section\">\n\t\t\t\t\t\t<text class=\"section-title\">任务描述</text>\n\t\t\t\t\t\t<text class=\"task-description\">{{ task.description }}</text>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 任务要求 -->\n\t\t\t\t\t<view class=\"task-requirements-section\">\n\t\t\t\t\t\t<text class=\"section-title\">任务要求</text>\n\t\t\t\t\t\t<view class=\"requirements-list\">\n\t\t\t\t\t\t\t<view v-for=\"(requirement, index) in task.requirements\" :key=\"index\" class=\"requirement-item\">\n\t\t\t\t\t\t\t\t<text class=\"requirement-bullet\">•</text>\n\t\t\t\t\t\t\t\t<text class=\"requirement-text\">{{ requirement }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 联系方式 -->\n\t\t\t\t\t<view class=\"contact-section\" v-if=\"isApplied || isEmployer\">\n\t\t\t\t\t\t<text class=\"section-title\">联系方式</text>\n\t\t\t\t\t\t<view class=\"contact-item\">\n\t\t\t\t\t\t\t<text class=\"contact-label\">联系人：</text>\n\t\t\t\t\t\t\t<text class=\"contact-value\">{{ task.contactPerson }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"contact-item\">\n\t\t\t\t\t\t\t<text class=\"contact-label\">联系电话：</text>\n\t\t\t\t\t\t\t<text class=\"contact-value\">{{ task.contactPhone }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- 申请者列表 (仅雇主可见) -->\n\t\t\t\t<view class=\"applicants-section\" v-if=\"isEmployer && task.applicants && task.applicants.length > 0\">\n\t\t\t\t\t<text class=\"section-title\">申请者 ({{ task.applicants.length }}人)</text>\n\t\t\t\t\t<view class=\"applicant-list\">\n\t\t\t\t\t\t<view v-for=\"(applicant, index) in task.applicants\" :key=\"index\" class=\"applicant-item\">\n\t\t\t\t\t\t\t<view class=\"applicant-info\">\n\t\t\t\t\t\t\t\t<image :src=\"applicant.avatar\" class=\"applicant-avatar\"></image>\n\t\t\t\t\t\t\t\t<view class=\"applicant-details\">\n\t\t\t\t\t\t\t\t\t<text class=\"applicant-name\">{{ applicant.name }}</text>\n\t\t\t\t\t\t\t\t\t<text class=\"applicant-time\">申请于 {{ formatDate(applicant.applyTime) }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"applicant-actions\" v-if=\"task.status === 'open'\">\n\t\t\t\t\t\t\t\t<button class=\"accept-button\" @tap=\"acceptApplicant(applicant.id)\">接受</button>\n\t\t\t\t\t\t\t\t<button class=\"reject-button\" @tap=\"rejectApplicant(applicant.id)\">拒绝</button>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"applicant-status\" v-else-if=\"applicant.status\">{{ applicant.status === 'accepted' ? '已接受' : '已拒绝' }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\n\t\t\t<!-- 底部操作栏 -->\n\t\t\t<view class=\"detail-footer\">\n\t\t\t\t<!-- 求职者视角 -->\n\t\t\t\t<block v-if=\"userRole === 'worker'\">\n\t\t\t\t\t<button class=\"apply-button\" v-if=\"!isApplied && task.status === 'open'\" @tap=\"applyTask\">申请任务</button>\n\t\t\t\t\t<button class=\"applied-button\" v-else-if=\"isApplied && task.status === 'open'\">已申请</button>\n\t\t\t\t\t<button class=\"cancel-button\" v-if=\"isApplied && task.status === 'open'\" @tap=\"cancelApply\">取消申请</button>\n\t\t\t\t\t<button class=\"contact-button\" v-if=\"isApplied && task.status === 'in_progress'\" @tap=\"contactEmployer\">联系雇主</button>\n\t\t\t\t\t<button class=\"complete-button\" v-if=\"isApplied && task.status === 'in_progress'\" @tap=\"completeTask\">完成任务</button>\n\t\t\t\t</block>\n\n\t\t\t\t<!-- 雇主视角 -->\n\t\t\t\t<block v-else-if=\"userRole === 'employer' && isEmployer\">\n\t\t\t\t\t<button class=\"view-applications-button\" v-if=\"task.applicants && task.applicants.length > 0\" @tap=\"viewApplications\">查看申请 ({{ task.applicants.length }})</button>\n\t\t\t\t\t<button class=\"edit-button\" v-if=\"task.status === 'open'\" @tap=\"editTask\">编辑任务</button>\n\t\t\t\t\t<button class=\"close-button\" v-if=\"task.status === 'open'\" @tap=\"closeTask\">关闭任务</button>\n\t\t\t\t\t<button class=\"complete-button\" v-if=\"task.status === 'in_progress'\" @tap=\"completeTask\">标记完成</button>\n\t\t\t\t</block>\n\t\t\t</view>\n\t\t</template>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tisLoading: true, // 添加加载状态标记\n\t\t\t\ttask: {\n\t\t\t\t\tid: 0,\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tdescription: '',\n\t\t\t\t\treward: 0,\n\t\t\t\t\tpublishTime: new Date(),\n\t\t\t\t\tdeadline: new Date(),\n\t\t\t\t\tlocation: '',\n\t\t\t\t\trequiredPeople: 0,\n\t\t\t\t\tcontactPerson: '',\n\t\t\t\t\tcontactPhone: '',\n\t\t\t\t\tstatus: 'open', // open, in_progress, completed, closed\n\t\t\t\t\trequirements: [],\n\t\t\t\t\tpublisher: {\n\t\t\t\t\t\tid: 0,\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\tavatar: ''\n\t\t\t\t\t},\n\t\t\t\t\tapplicants: []\n\t\t\t\t},\n\t\t\t\tuserRole: 'worker', // 当前用户角色\n\t\t\t\tisApplied: false, // 当前用户是否已申请\n\t\t\t\tisEmployer: false, // 当前用户是否是雇主\n\t\t\t\ttaskId: 0, // 通过URL参数传入的任务ID\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\t// 获取任务ID\n\t\t\tif (options.id) {\n\t\t\t\tthis.taskId = options.id;\n\t\t\t\t// 显示加载状态\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...'\n\t\t\t\t});\n\t\t\t\tthis.fetchTaskDetail();\n\t\t\t}\n\t\t\t\n\t\t\t// 从缓存获取用户角色\n\t\t\tconst cachedUserRole = uni.getStorageSync('userRole');\n\t\t\tif (cachedUserRole) {\n\t\t\t\tthis.userRole = cachedUserRole;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取任务详情\n\t\t\tfetchTaskDetail() {\n\t\t\t\t// 模拟API请求获取任务详情\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t// 模拟数据\n\t\t\t\t\tthis.task = {\n\t\t\t\t\t\tid: this.taskId,\n\t\t\t\t\t\ttitle: '设计一个企业Logo',\n\t\t\t\t\t\tdescription: '需要设计一个现代化的企业Logo，要求简洁、大方，能够展现企业的专业形象。需要提供源文件和至少3种不同颜色方案。我们是一家科技公司，希望Logo能够体现创新和科技感。',\n\t\t\t\t\t\treward: 500,\n\t\t\t\t\t\tpublishTime: new Date('2023-12-01'),\n\t\t\t\t\t\tdeadline: new Date('2023-12-30'),\n\t\t\t\t\t\tlocation: '远程工作',\n\t\t\t\t\t\trequiredPeople: 1,\n\t\t\t\t\t\tcontactPerson: '张经理',\n\t\t\t\t\t\tcontactPhone: '13800138000',\n\t\t\t\t\t\tstatus: 'open',\n\t\t\t\t\t\trequirements: [\n\t\t\t\t\t\t\t'有平面设计经验',\n\t\t\t\t\t\t\t'熟练掌握PS、AI等设计软件',\n\t\t\t\t\t\t\t'有良好的沟通能力',\n\t\t\t\t\t\t\t'能够按时完成任务'\n\t\t\t\t\t\t],\n\t\t\t\t\t\tpublisher: {\n\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\tname: '张企业',\n\t\t\t\t\t\t\tavatar: 'http://iph.href.lu/50x50'\n\t\t\t\t\t\t},\n\t\t\t\t\t\tapplicants: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 101,\n\t\t\t\t\t\t\t\tname: '李设计',\n\t\t\t\t\t\t\t\tavatar: 'http://iph.href.lu/50x50',\n\t\t\t\t\t\t\t\tapplyTime: new Date('2023-12-05'),\n\t\t\t\t\t\t\t\tstatus: ''\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 102,\n\t\t\t\t\t\t\t\tname: '王绘画',\n\t\t\t\t\t\t\t\tavatar: 'http://iph.href.lu/50x50',\n\t\t\t\t\t\t\t\tapplyTime: new Date('2023-12-06'),\n\t\t\t\t\t\t\t\tstatus: ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// 判断当前用户是否是任务发布者\n\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\t\t\tif (userInfo && userInfo.id === this.task.publisher.id) {\n\t\t\t\t\t\tthis.isEmployer = true;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 判断当前用户是否已申请\n\t\t\t\t\t// 实际应用中应从服务器获取此信息\n\t\t\t\t\tthis.isApplied = Math.random() > 0.5;\n\t\t\t\t\t\n\t\t\t\t\t// 数据加载完成，隐藏加载状态\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tthis.isLoading = false;\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\t\n\t\t\t// 返回上一页\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tanimationType: 'fade-out', // 使用淡出动画\n\t\t\t\t\tanimationDuration: 200 // 设置动画持续时间较短\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 申请任务\n\t\t\tapplyTask() {\n\t\t\t\t// 直接跳转到申请页面\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/applications/apply/apply?id=${this.task.id}`\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 取消申请\n\t\t\tcancelApply() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认取消',\n\t\t\t\t\tcontent: '确认取消申请此任务吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 模拟API请求\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: '取消中...'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tthis.isApplied = false;\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已取消申请'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 联系雇主\n\t\t\tcontactEmployer() {\n\t\t\t\tuni.makePhoneCall({\n\t\t\t\t\tphoneNumber: this.task.contactPhone,\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '拨打电话失败',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 完成任务\n\t\t\tcompleteTask() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认完成',\n\t\t\t\t\tcontent: '确认该任务已完成吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 模拟API请求\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: '提交中...'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tthis.task.status = 'completed';\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已标记为完成'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 编辑任务\n\t\t\teditTask() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/tasks/edit/edit?id=${this.task.id}`\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 关闭任务\n\t\t\tcloseTask() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认关闭',\n\t\t\t\t\tcontent: '确认关闭此任务吗？关闭后将不再接受新的申请。',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 模拟API请求\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: '提交中...'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\tthis.task.status = 'closed';\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已关闭任务'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 接受申请者\n\t\t\tacceptApplicant(applicantId) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认接受',\n\t\t\t\t\tcontent: '确认接受此申请者吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 模拟API请求\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: '处理中...'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t// 更新申请者状态\n\t\t\t\t\t\t\t\tthis.task.applicants.forEach(applicant => {\n\t\t\t\t\t\t\t\t\tif (applicant.id === applicantId) {\n\t\t\t\t\t\t\t\t\t\tapplicant.status = 'accepted';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// 更新任务状态\n\t\t\t\t\t\t\t\tthis.task.status = 'in_progress';\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已接受申请'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 拒绝申请者\n\t\t\trejectApplicant(applicantId) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: '确认拒绝',\n\t\t\t\t\tcontent: '确认拒绝此申请者吗？',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 模拟API请求\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: '处理中...'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\t\t// 更新申请者状态\n\t\t\t\t\t\t\t\tthis.task.applicants.forEach(applicant => {\n\t\t\t\t\t\t\t\t\tif (applicant.id === applicantId) {\n\t\t\t\t\t\t\t\t\t\tapplicant.status = 'rejected';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '已拒绝申请'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t\n\t\t\t// 根据状态获取样式类\n\t\t\tgetStatusClass(status) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 'open':\n\t\t\t\t\t\treturn 'status-open';\n\t\t\t\t\tcase 'in_progress':\n\t\t\t\t\t\treturn 'status-progress';\n\t\t\t\t\tcase 'completed':\n\t\t\t\t\t\treturn 'status-completed';\n\t\t\t\t\tcase 'closed':\n\t\t\t\t\t\treturn 'status-closed';\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn 'status-completed';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 根据状态获取文本\n\t\t\tgetStatusText(status) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 'open':\n\t\t\t\t\t\treturn '招募中';\n\t\t\t\t\tcase 'in_progress':\n\t\t\t\t\t\treturn '进行中';\n\t\t\t\t\tcase 'completed':\n\t\t\t\t\t\treturn '已完成';\n\t\t\t\t\tcase 'closed':\n\t\t\t\t\t\treturn '已关闭';\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn '未知';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 格式化日期\n\t\t\tformatDate(date) {\n\t\t\t\tconst d = new Date(date);\n\t\t\t\treturn `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, '0')}-${d.getDate().toString().padStart(2, '0')}`;\n\t\t\t},\n\t\t\t\n\t\t\t// 查看申请列表\n\t\t\tviewApplications() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/applications/status/status'\n\t\t\t\t});\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n.detail-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 100vh;\n\tbackground-color: #f9fafb;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n/* 顶部信息栏 */\n.detail-header {\n\tbackground-color: #ffffff;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.05);\n\tz-index: 10;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.header-top {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\twidth: 100%;\n}\n\n.back-button {\n\tpadding: 10rpx;\n}\n\n.back-icon {\n\tfont-size: 40rpx;\n\tfont-weight: bold;\n}\n\n.header-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\ttext-align: center;\n\tflex: 1;\n}\n\n.header-placeholder {\n\twidth: 40rpx;\n}\n\n/* 任务详情内容 */\n.detail-content {\n\tflex: 1;\n\tpadding: 30rpx;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n.task-card {\n\tbackground-color: #ffffff;\n\tborder-radius: 8rpx;\n\tbox-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.05);\n\tpadding: 30rpx;\n\tmargin-bottom: 30rpx;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.task-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n\twidth: 100%;\n}\n\n.task-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tcolor: #1f2937;\n\tflex: 1;\n\tpadding-right: 20rpx;\n}\n\n.task-status {\n\tfont-size: 26rpx;\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 9999rpx;\n\twhite-space: nowrap;\n}\n\n.status-open {\n\tbackground-color: #d1fae5;\n\tcolor: #047857;\n}\n\n.status-progress {\n\tbackground-color: #dbeafe;\n\tcolor: #1d4ed8;\n}\n\n.status-completed {\n\tbackground-color: #f3f4f6;\n\tcolor: #4b5563;\n}\n\n.status-closed {\n\tbackground-color: #fee2e2;\n\tcolor: #b91c1c;\n}\n\n/* 发布者信息 */\n.publisher-info {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 30rpx;\n\tpadding-bottom: 20rpx;\n\tborder-bottom: 1rpx solid #f3f4f6;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.publisher-avatar {\n\twidth: 60rpx;\n\theight: 60rpx;\n\tborder-radius: 50%;\n\tmargin-right: 15rpx;\n\tflex-shrink: 0;\n}\n\n.publisher-name {\n\tfont-size: 28rpx;\n\tcolor: #4b5563;\n\tmargin-right: 20rpx;\n}\n\n.publish-time {\n\tfont-size: 26rpx;\n\tcolor: #9ca3af;\n}\n\n/* 任务基本信息 */\n.task-info-section {\n\tmargin-bottom: 30rpx;\n\tpadding-bottom: 20rpx;\n\tborder-bottom: 1rpx solid #f3f4f6;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.info-item {\n\tdisplay: flex;\n\tmargin-bottom: 15rpx;\n\twidth: 100%;\n}\n\n.info-label {\n\twidth: 150rpx;\n\tfont-size: 28rpx;\n\tcolor: #6b7280;\n\tflex-shrink: 0;\n}\n\n.info-value {\n\tfont-size: 28rpx;\n\tcolor: #1f2937;\n\tflex: 1;\n}\n\n.reward-value {\n\tfont-weight: bold;\n\tcolor: #f97316;\n}\n\n/* 任务描述 */\n.task-description-section,\n.task-requirements-section,\n.contact-section {\n\tmargin-bottom: 30rpx;\n\tpadding-bottom: 20rpx;\n\tborder-bottom: 1rpx solid #f3f4f6;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.section-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #1f2937;\n\tmargin-bottom: 20rpx;\n\tdisplay: block;\n\twidth: 100%;\n}\n\n.task-description {\n\tfont-size: 28rpx;\n\tcolor: #4b5563;\n\tline-height: 1.6;\n\twidth: 100%;\n}\n\n/* 任务要求 */\n.requirements-list {\n\tmargin-top: 10rpx;\n\twidth: 100%;\n}\n\n.requirement-item {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tmargin-bottom: 15rpx;\n\twidth: 100%;\n}\n\n.requirement-bullet {\n\tmargin-right: 10rpx;\n\tcolor: #3b82f6;\n\tfont-size: 30rpx;\n\tflex-shrink: 0;\n}\n\n.requirement-text {\n\tfont-size: 28rpx;\n\tcolor: #4b5563;\n\tline-height: 1.5;\n\tflex: 1;\n}\n\n/* 联系方式 */\n.contact-item {\n\tdisplay: flex;\n\tmargin-bottom: 15rpx;\n\twidth: 100%;\n}\n\n.contact-label {\n\twidth: 150rpx;\n\tfont-size: 28rpx;\n\tcolor: #6b7280;\n\tflex-shrink: 0;\n}\n\n.contact-value {\n\tfont-size: 28rpx;\n\tcolor: #1f2937;\n\tflex: 1;\n}\n\n/* 申请者列表 */\n.applicants-section {\n\tbackground-color: #ffffff;\n\tborder-radius: 8rpx;\n\tbox-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.05);\n\tpadding: 30rpx;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.applicant-list {\n\tmargin-top: 20rpx;\n\twidth: 100%;\n}\n\n.applicant-item {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20rpx 0;\n\tborder-bottom: 1rpx solid #f3f4f6;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.applicant-item:last-child {\n\tborder-bottom: none;\n}\n\n.applicant-info {\n\tdisplay: flex;\n\talign-items: center;\n\tflex: 1;\n}\n\n.applicant-avatar {\n\twidth: 80rpx;\n\theight: 80rpx;\n\tborder-radius: 50%;\n\tmargin-right: 20rpx;\n\tflex-shrink: 0;\n}\n\n.applicant-details {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n}\n\n.applicant-name {\n\tfont-size: 30rpx;\n\tcolor: #1f2937;\n\tmargin-bottom: 5rpx;\n}\n\n.applicant-time {\n\tfont-size: 26rpx;\n\tcolor: #9ca3af;\n}\n\n.applicant-actions {\n\tdisplay: flex;\n}\n\n.accept-button {\n\tbackground-color: #10b981;\n\tcolor: #ffffff;\n\tfont-size: 26rpx;\n\tpadding: 10rpx 20rpx;\n\tborder-radius: 6rpx;\n\tmargin-right: 10rpx;\n}\n\n.reject-button {\n\tbackground-color: #ef4444;\n\tcolor: #ffffff;\n\tfont-size: 26rpx;\n\tpadding: 10rpx 20rpx;\n\tborder-radius: 6rpx;\n}\n\n.applicant-status {\n\tfont-size: 26rpx;\n\tcolor: #6b7280;\n}\n\n/* 底部操作栏 */\n.detail-footer {\n\tbackground-color: #ffffff;\n\tpadding: 20rpx 30rpx;\n\tbox-shadow: 0 -2rpx 4rpx rgba(0, 0, 0, 0.05);\n\tdisplay: flex;\n\tjustify-content: space-around;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.apply-button {\n\tbackground-color: #3b82f6;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 100%;\n}\n\n.applied-button {\n\tbackground-color: #9ca3af;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 45%;\n}\n\n.cancel-button {\n\tbackground-color: #ef4444;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 45%;\n}\n\n.contact-button {\n\tbackground-color: #10b981;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 45%;\n}\n\n.complete-button {\n\tbackground-color: #f97316;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 100%;\n}\n\n.edit-button {\n\tbackground-color: #3b82f6;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 45%;\n}\n\n.close-button {\n\tbackground-color: #ef4444;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 45%;\n}\n\n.view-applications-button {\n\tbackground-color: #3b82f6;\n\tcolor: #ffffff;\n\tfont-size: 30rpx;\n\tpadding: 20rpx 40rpx;\n\tborder-radius: 8rpx;\n\twidth: 100%;\n}\n\n/* 加载状态样式 */\n.loading-container {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 100rpx 0;\n}\n\n.loading-spinner {\n\twidth: 80rpx;\n\theight: 80rpx;\n\tborder-radius: 50%;\n\tborder: 4rpx solid rgba(0, 0, 0, 0.1);\n\tborder-top-color: #3b82f6;\n\tanimation: spin 1s linear infinite;\n\tmargin-bottom: 20rpx;\n}\n\n.loading-text {\n\tfont-size: 28rpx;\n\tcolor: #6b7280;\n}\n\n@keyframes spin {\n\tto {\n\t\ttransform: rotate(360deg);\n\t}\n}\n</style>\n","import MiniProgramPage from 'C:/Users/24203/Desktop/workspace/daily-task-frontend/pages/tasks/detail/detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}
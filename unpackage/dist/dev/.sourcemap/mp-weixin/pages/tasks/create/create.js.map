{"version":3,"file":"create.js","sources":["pages/tasks/create/create.vue","../../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdGFza3MvY3JlYXRlL2NyZWF0ZS52dWU"],"sourcesContent":["<template>\n\t<view class=\"create-container\">\n\t\t<view class=\"create-card\">\n\t\t\t<view class=\"page-title\">发布任务</view>\n\t\t\t\n\t\t\t<!-- 任务标题 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">任务标题</text>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"form-input\" \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tv-model=\"taskForm.title\" \n\t\t\t\t\tplaceholder=\"请输入任务标题\" \n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 任务类型 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">任务类型</text>\n\t\t\t\t<picker \n\t\t\t\t\tclass=\"form-picker\" \n\t\t\t\t\tmode=\"selector\" \n\t\t\t\t\t:range=\"taskTypes\" \n\t\t\t\t\t@change=\"handleTaskTypeChange\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"picker-display\">\n\t\t\t\t\t\t<text class=\"picker-text\">{{ taskTypes[taskForm.typeIndex] }}</text>\n\t\t\t\t\t\t<text class=\"picker-arrow\">▼</text>\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 任务描述 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">任务描述</text>\n\t\t\t\t<textarea \n\t\t\t\t\tclass=\"form-textarea\" \n\t\t\t\t\tv-model=\"taskForm.description\" \n\t\t\t\t\tplaceholder=\"请详细描述任务要求和内容\" \n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 任务报酬 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">任务报酬 (元)</text>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"form-input\" \n\t\t\t\t\ttype=\"digit\" \n\t\t\t\t\tv-model=\"taskForm.reward\" \n\t\t\t\t\tplaceholder=\"请输入任务报酬\" \n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 任务人数 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">招募人数</text>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"form-input\" \n\t\t\t\t\ttype=\"number\" \n\t\t\t\t\tv-model=\"taskForm.peopleCount\" \n\t\t\t\t\tplaceholder=\"请输入招募人数\" \n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 截止日期 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">截止日期</text>\n\t\t\t\t<picker \n\t\t\t\t\tclass=\"form-picker\" \n\t\t\t\t\tmode=\"date\" \n\t\t\t\t\t:value=\"taskForm.deadline\" \n\t\t\t\t\tstart=\"2023-01-01\" \n\t\t\t\t\tend=\"2024-12-31\" \n\t\t\t\t\t@change=\"handleDateChange\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"picker-display\">\n\t\t\t\t\t\t<text class=\"picker-text\">{{ taskForm.deadline || '请选择截止日期' }}</text>\n\t\t\t\t\t\t<text class=\"picker-arrow\">▼</text>\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 联系方式 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">联系电话</text>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"form-input\" \n\t\t\t\t\ttype=\"number\" \n\t\t\t\t\tv-model=\"taskForm.contactPhone\" \n\t\t\t\t\tplaceholder=\"请输入联系电话\" \n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 工作地点 -->\n\t\t\t<view class=\"form-item\">\n\t\t\t\t<text class=\"form-label\">工作地点</text>\n\t\t\t\t<input \n\t\t\t\t\tclass=\"form-input\" \n\t\t\t\t\ttype=\"text\" \n\t\t\t\t\tv-model=\"taskForm.location\" \n\t\t\t\t\tplaceholder=\"请输入工作地点\" \n\t\t\t\t/>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 提交按钮 -->\n\t\t<button \n\t\t\tclass=\"submit-button\"\n\t\t\t:disabled=\"submitDisabled\"\n\t\t\t:class=\"{'button-disabled': submitDisabled}\"\n\t\t\t@tap=\"submitTask\"\n\t\t>发布任务</button>\n\t</view>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue';\n\n// 用户角色\nconst userRole = ref('employer');\n\n// 任务类型选项\nconst taskTypes = ['短期兼职', '长期兼职', '项目合作', '其他'];\n\n// 表单数据\nconst taskForm = ref({\n\ttitle: '',\n\ttypeIndex: 0,\n\tdescription: '',\n\treward: '',\n\tpeopleCount: '',\n\tdeadline: '',\n\tcontactPhone: '',\n\tlocation: ''\n});\n\n// 检查表单是否可提交\nconst submitDisabled = computed(() => {\n\treturn !taskForm.value.title \n\t\t|| !taskForm.value.description \n\t\t|| !taskForm.value.reward \n\t\t|| !taskForm.value.peopleCount \n\t\t|| !taskForm.value.deadline \n\t\t|| !taskForm.value.contactPhone;\n});\n\n// 任务类型选择处理\nconst handleTaskTypeChange = (e) => {\n\ttaskForm.value.typeIndex = e.detail.value;\n};\n\n// 日期选择处理\nconst handleDateChange = (e) => {\n\ttaskForm.value.deadline = e.detail.value;\n};\n\n// 提交任务\nconst submitTask = () => {\n\tif (submitDisabled.value) {\n\t\tuni.showToast({\n\t\t\ttitle: '请填写完整信息',\n\t\t\ticon: 'none'\n\t\t});\n\t\treturn;\n\t}\n\t\n\t// 模拟提交\n\tuni.showLoading({\n\t\ttitle: '提交中...'\n\t});\n\t\n\tsetTimeout(() => {\n\t\tuni.hideLoading();\n\t\t\n\t\tuni.showToast({\n\t\t\ttitle: '发布成功',\n\t\t\ticon: 'success'\n\t\t});\n\t\t\n\t\t// 跳转到任务列表页\n\t\tsetTimeout(() => {\n\t\t\tuni.switchTab({\n\t\t\t\turl: '/pages/tasks/list/list'\n\t\t\t});\n\t\t}, 1500);\n\t}, 2000);\n};\n\n// 检查是否为雇佣者\nonMounted(() => {\n\tconst cachedUserRole = uni.getStorageSync('userRole');\n\tif (cachedUserRole !== 'employer') {\n\t\tuni.showModal({\n\t\t\ttitle: '提示',\n\t\t\tcontent: '只有雇佣者才能发布任务',\n\t\t\tshowCancel: false,\n\t\t\tsuccess: () => {\n\t\t\t\tuni.navigateBack();\n\t\t\t}\n\t\t});\n\t}\n});\n</script>\n\n<style>\n.create-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 100vh;\n\tbackground-color: #f9fafb;\n\tpadding: 30rpx;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n.create-card {\n\tbackground-color: #ffffff;\n\tborder-radius: 16rpx;\n\tbox-shadow: 0 4rpx 6rpx rgba(0, 0, 0, 0.05);\n\tpadding: 30rpx;\n\tmargin-bottom: 30rpx;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.page-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\tmargin-bottom: 30rpx;\n\tcolor: #1f2937;\n}\n\n.form-item {\n\tmargin-bottom: 30rpx;\n\twidth: 100%;\n}\n\n.form-label {\n\tfont-size: 28rpx;\n\tcolor: #4b5563;\n\tdisplay: block;\n\tmargin-bottom: 15rpx;\n}\n\n.form-input {\n\twidth: 100%;\n\theight: 80rpx;\n\tbackground-color: #f3f4f6;\n\tborder-radius: 12rpx;\n\tpadding: 0 20rpx;\n\tfont-size: 28rpx;\n\tbox-sizing: border-box;\n}\n\n.form-textarea {\n\twidth: 100%;\n\tmin-height: 200rpx;\n\tbackground-color: #f3f4f6;\n\tborder-radius: 12rpx;\n\tpadding: 20rpx;\n\tfont-size: 28rpx;\n\tbox-sizing: border-box;\n}\n\n.form-picker {\n\twidth: 100%;\n}\n\n.picker-display {\n\theight: 80rpx;\n\tbackground-color: #f3f4f6;\n\tborder-radius: 12rpx;\n\tpadding: 0 20rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n}\n\n.picker-text {\n\tfont-size: 28rpx;\n\tcolor: #1f2937;\n}\n\n.picker-arrow {\n\tcolor: #9ca3af;\n\tfont-size: 24rpx;\n}\n\n.submit-button {\n\tbackground-color: #3b82f6;\n\tcolor: #ffffff;\n\tfont-size: 32rpx;\n\theight: 90rpx;\n\tline-height: 90rpx;\n\tborder-radius: 45rpx;\n\tmargin-top: 30rpx;\n\twidth: 100%;\n\ttext-align: center;\n\tborder: none;\n}\n\n.button-disabled {\n\topacity: 0.5;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/24203/Desktop/workspace/daily-task-frontend/pages/tasks/create/create.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","onMounted","MiniProgramPage"],"mappings":";;;;;AAuHiBA,kBAAG,IAAC,UAAU;AAG/B,UAAM,YAAY,CAAC,QAAQ,QAAQ,QAAQ,IAAI;AAG/C,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACpB,OAAO;AAAA,MACP,WAAW;AAAA,MACX,aAAa;AAAA,MACb,QAAQ;AAAA,MACR,aAAa;AAAA,MACb,UAAU;AAAA,MACV,cAAc;AAAA,MACd,UAAU;AAAA,IACX,CAAC;AAGD,UAAM,iBAAiBC,cAAQ,SAAC,MAAM;AACrC,aAAO,CAAC,SAAS,MAAM,SACnB,CAAC,SAAS,MAAM,eAChB,CAAC,SAAS,MAAM,UAChB,CAAC,SAAS,MAAM,eAChB,CAAC,SAAS,MAAM,YAChB,CAAC,SAAS,MAAM;AAAA,IACrB,CAAC;AAGD,UAAM,uBAAuB,CAAC,MAAM;AACnC,eAAS,MAAM,YAAY,EAAE,OAAO;AAAA,IACrC;AAGA,UAAM,mBAAmB,CAAC,MAAM;AAC/B,eAAS,MAAM,WAAW,EAAE,OAAO;AAAA,IACpC;AAGA,UAAM,aAAa,MAAM;AACxB,UAAI,eAAe,OAAO;AACzBC,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACT,CAAG;AACD;AAAA,MACA;AAGDA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,MACT,CAAE;AAED,iBAAW,MAAM;AAChBA,sBAAG,MAAC,YAAW;AAEfA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACT,CAAG;AAGD,mBAAW,MAAM;AAChBA,wBAAAA,MAAI,UAAU;AAAA,YACb,KAAK;AAAA,UACT,CAAI;AAAA,QACD,GAAE,IAAI;AAAA,MACP,GAAE,GAAI;AAAA,IACR;AAGAC,kBAAAA,UAAU,MAAM;AACf,YAAM,iBAAiBD,cAAAA,MAAI,eAAe,UAAU;AACpD,UAAI,mBAAmB,YAAY;AAClCA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,UACZ,SAAS,MAAM;AACdA,0BAAG,MAAC,aAAY;AAAA,UAChB;AAAA,QACJ,CAAG;AAAA,MACD;AAAA,IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxMD,GAAG,WAAWE,SAAe;"}
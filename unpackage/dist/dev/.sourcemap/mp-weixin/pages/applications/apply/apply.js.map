{"version":3,"file":"apply.js","sources":["pages/applications/apply/apply.vue","../../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYXBwbGljYXRpb25zL2FwcGx5L2FwcGx5LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"apply-container\">\n\t\t<!-- 顶部导航栏 -->\n\t\t<view class=\"apply-header\">\n\t\t\t<view class=\"header-top\">\n\t\t\t\t<view class=\"back-button\" @tap=\"goBack\">\n\t\t\t\t\t<text class=\"back-icon\">←</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"header-title\">申请任务</text>\n\t\t\t\t<view class=\"header-placeholder\"></view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 任务信息卡片 -->\n\t\t<view class=\"apply-content\">\n\t\t\t<view class=\"task-card\">\n\t\t\t\t<view class=\"card-top\">\n\t\t\t\t\t<text class=\"task-title\">{{ task.title }}</text>\n\t\t\t\t\t<text class=\"task-status\" :class=\"getStatusClass(task.status)\">{{ getStatusText(task.status) }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"task-info\">\n\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t<text class=\"info-label\">报酬：</text>\n\t\t\t\t\t\t<text class=\"info-value reward-value\">¥{{ task.reward }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t<text class=\"info-label\">截止日期：</text>\n\t\t\t\t\t\t<text class=\"info-value\">{{ formatDate(task.deadline) }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"info-item\">\n\t\t\t\t\t\t<text class=\"info-label\">发布者：</text>\n\t\t\t\t\t\t<text class=\"info-value\">{{ task.publisher.name }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 申请表单 -->\n\t\t\t<view class=\"apply-form\">\n\t\t\t\t<view class=\"form-title\">填写申请信息</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"form-label\">联系电话</text>\n\t\t\t\t\t<input class=\"form-input\" type=\"number\" v-model=\"form.phone\" placeholder=\"请输入您的联系电话\" />\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"form-label\">个人介绍</text>\n\t\t\t\t\t<textarea class=\"form-textarea\" v-model=\"form.introduction\" placeholder=\"请简要介绍您的相关经验和技能（100-300字）\" maxlength=\"300\" />\n\t\t\t\t\t<text class=\"word-count\">{{ form.introduction.length }}/300</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"form-label\">期望报酬</text>\n\t\t\t\t\t<view class=\"input-group\">\n\t\t\t\t\t\t<text class=\"input-prefix\">¥</text>\n\t\t\t\t\t\t<input class=\"form-input price-input\" type=\"digit\" v-model=\"form.expectedReward\" placeholder=\"请输入您期望的报酬\" />\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"form-tips\">* 默认为发布者设定的报酬</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"form-item\">\n\t\t\t\t\t<text class=\"form-label\">附加说明</text>\n\t\t\t\t\t<textarea class=\"form-textarea\" v-model=\"form.additionalInfo\" placeholder=\"可填写其他补充信息（选填）\" maxlength=\"200\" />\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 提交按钮 -->\n\t\t\t<view class=\"submit-section\">\n\t\t\t\t<button class=\"submit-button\" @tap=\"submitApplication\">提交申请</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttaskId: 0, // 任务ID\n\t\t\t\ttask: {\n\t\t\t\t\tid: 0,\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tstatus: 'open',\n\t\t\t\t\treward: 0,\n\t\t\t\t\tdeadline: new Date(),\n\t\t\t\t\tpublisher: {\n\t\t\t\t\t\tid: 0,\n\t\t\t\t\t\tname: ''\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tphone: '',\n\t\t\t\t\tintroduction: '',\n\t\t\t\t\texpectedReward: '',\n\t\t\t\t\tadditionalInfo: ''\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\tconsole.log('apply页面接收到的参数:', options);\n\t\t\t\n\t\t\t// 获取任务ID\n\t\t\tif (options.id) {\n\t\t\t\tthis.taskId = Number(options.id);\n\t\t\t\tthis.fetchTaskInfo();\n\t\t\t} else {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '参数错误',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\t// 从缓存获取用户信息，预填表单\n\t\t\tconst userInfo = uni.getStorageSync('userInfo');\n\t\t\tif (userInfo && userInfo.phone) {\n\t\t\t\tthis.form.phone = userInfo.phone;\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t// 获取任务信息\n\t\t\tfetchTaskInfo() {\n\t\t\t\t// 如果没有任务ID，显示错误\n\t\t\t\tif (!this.taskId) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '任务ID不存在',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 显示加载中\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '加载中...'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// 模拟API请求\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\n\t\t\t\t\t// 获取任务信息\n\t\t\t\t\tthis.task = {\n\t\t\t\t\t\tid: this.taskId,\n\t\t\t\t\t\ttitle: '设计一个企业Logo',\n\t\t\t\t\t\tstatus: 'open',\n\t\t\t\t\t\treward: 500,\n\t\t\t\t\t\tdeadline: new Date('2023-12-30'),\n\t\t\t\t\t\tpublisher: {\n\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\tname: '张企业',\n\t\t\t\t\t\t\tavatar: 'http://iph.href.lu/50x50'\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t\n\t\t\t\t\t// 预填期望报酬\n\t\t\t\t\tthis.form.expectedReward = this.task.reward;\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('已加载任务信息：', this.task);\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\t\n\t\t\t// 返回上一页\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack();\n\t\t\t},\n\t\t\t\n\t\t\t// 提交申请\n\t\t\tsubmitApplication() {\n\t\t\t\t// 表单验证\n\t\t\t\tif (!this.form.phone) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入联系电话',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!this.form.introduction || this.form.introduction.length < 100) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '个人介绍不能少于100字',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!this.form.expectedReward) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请输入期望报酬',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 模拟API请求\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle: '提交中...'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: '申请成功',\n\t\t\t\t\t\tcontent: '您的申请已提交，请等待雇主审核。',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t// 申请成功后跳转到申请状态页面\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl: '/pages/applications/status/status'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 1000);\n\t\t\t},\n\t\t\t\n\t\t\t// 根据状态获取样式类\n\t\t\tgetStatusClass(status) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 'open':\n\t\t\t\t\t\treturn 'status-open';\n\t\t\t\t\tcase 'in_progress':\n\t\t\t\t\t\treturn 'status-progress';\n\t\t\t\t\tcase 'completed':\n\t\t\t\t\t\treturn 'status-completed';\n\t\t\t\t\tcase 'closed':\n\t\t\t\t\t\treturn 'status-closed';\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn 'status-completed';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 根据状态获取文本\n\t\t\tgetStatusText(status) {\n\t\t\t\tswitch (status) {\n\t\t\t\t\tcase 'open':\n\t\t\t\t\t\treturn '招募中';\n\t\t\t\t\tcase 'in_progress':\n\t\t\t\t\t\treturn '进行中';\n\t\t\t\t\tcase 'completed':\n\t\t\t\t\t\treturn '已完成';\n\t\t\t\t\tcase 'closed':\n\t\t\t\t\t\treturn '已关闭';\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn '未知';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 格式化日期\n\t\t\tformatDate(date) {\n\t\t\t\tconst d = new Date(date);\n\t\t\t\treturn `${d.getFullYear()}-${(d.getMonth() + 1).toString().padStart(2, '0')}-${d.getDate().toString().padStart(2, '0')}`;\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n.apply-container {\n\tdisplay: flex;\n\tflex-direction: column;\n\tmin-height: 100vh;\n\tbackground-color: #f9fafb;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n/* 顶部导航栏 */\n.apply-header {\n\tbackground-color: #ffffff;\n\tpadding: 30rpx;\n\tbox-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.05);\n\tz-index: 10;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.header-top {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\twidth: 100%;\n}\n\n.back-button {\n\tpadding: 10rpx;\n}\n\n.back-icon {\n\tfont-size: 40rpx;\n\tfont-weight: bold;\n}\n\n.header-title {\n\tfont-size: 36rpx;\n\tfont-weight: bold;\n\ttext-align: center;\n\tflex: 1;\n}\n\n.header-placeholder {\n\twidth: 40rpx;\n}\n\n/* 申请内容区域 */\n.apply-content {\n\tflex: 1;\n\tpadding: 30rpx;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n/* 任务卡片 */\n.task-card {\n\tbackground-color: #ffffff;\n\tborder-radius: 12rpx;\n\tbox-shadow: 0 4rpx 6rpx rgba(0, 0, 0, 0.05);\n\tpadding: 30rpx;\n\tmargin-bottom: 30rpx;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n.card-top {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n\twidth: 100%;\n}\n\n.task-title {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tflex: 1;\n\tpadding-right: 15rpx;\n}\n\n.task-status {\n\tfont-size: 24rpx;\n\tpadding: 6rpx 16rpx;\n\tborder-radius: 9999rpx;\n\twhite-space: nowrap;\n\tflex-shrink: 0;\n}\n\n.status-open {\n\tbackground-color: #d1fae5;\n\tcolor: #047857;\n}\n\n.status-progress {\n\tbackground-color: #dbeafe;\n\tcolor: #1d4ed8;\n}\n\n.status-completed {\n\tbackground-color: #f3f4f6;\n\tcolor: #4b5563;\n}\n\n.status-closed {\n\tbackground-color: #fee2e2;\n\tcolor: #b91c1c;\n}\n\n.task-info {\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n\n.info-item {\n\tdisplay: flex;\n\tmargin-bottom: 15rpx;\n\twidth: 100%;\n}\n\n.info-label {\n\twidth: 150rpx;\n\tfont-size: 28rpx;\n\tcolor: #6b7280;\n\tflex-shrink: 0;\n}\n\n.info-value {\n\tfont-size: 28rpx;\n\tcolor: #1f2937;\n\tflex: 1;\n}\n\n.reward-value {\n\tfont-weight: bold;\n\tcolor: #f97316;\n}\n\n/* 申请表单 */\n.apply-form {\n\tbackground-color: #ffffff;\n\tborder-radius: 12rpx;\n\tbox-shadow: 0 4rpx 6rpx rgba(0, 0, 0, 0.05);\n\tpadding: 30rpx;\n\tmargin-bottom: 30rpx;\n\tbox-sizing: border-box;\n\twidth: 100%;\n}\n\n.form-title {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #1f2937;\n\tmargin-bottom: 30rpx;\n}\n\n.form-item {\n\tmargin-bottom: 25rpx;\n\twidth: 100%;\n}\n\n.form-label {\n\tdisplay: block;\n\tfont-size: 28rpx;\n\tcolor: #4b5563;\n\tmargin-bottom: 10rpx;\n}\n\n.form-input {\n\twidth: 100%;\n\theight: 80rpx;\n\tbackground-color: #f9fafb;\n\tborder: 1rpx solid #e5e7eb;\n\tborder-radius: 8rpx;\n\tpadding: 0 20rpx;\n\tfont-size: 28rpx;\n\tbox-sizing: border-box;\n}\n\n.form-textarea {\n\twidth: 100%;\n\theight: 200rpx;\n\tbackground-color: #f9fafb;\n\tborder: 1rpx solid #e5e7eb;\n\tborder-radius: 8rpx;\n\tpadding: 20rpx;\n\tfont-size: 28rpx;\n\tbox-sizing: border-box;\n}\n\n.word-count {\n\tdisplay: block;\n\ttext-align: right;\n\tfont-size: 24rpx;\n\tcolor: #9ca3af;\n\tmargin-top: 5rpx;\n}\n\n.input-group {\n\tdisplay: flex;\n\talign-items: center;\n\tbackground-color: #f9fafb;\n\tborder: 1rpx solid #e5e7eb;\n\tborder-radius: 8rpx;\n\twidth: 100%;\n\theight: 80rpx;\n}\n\n.input-prefix {\n\tpadding: 0 20rpx;\n\tfont-size: 28rpx;\n\tcolor: #4b5563;\n}\n\n.price-input {\n\tborder: none;\n\tbackground: transparent;\n}\n\n.form-tips {\n\tfont-size: 24rpx;\n\tcolor: #9ca3af;\n\tmargin-top: 5rpx;\n}\n\n/* 提交按钮 */\n.submit-section {\n\twidth: 100%;\n\tmargin-top: 20rpx;\n\tmargin-bottom: 50rpx;\n}\n\n.submit-button {\n\twidth: 100%;\n\theight: 90rpx;\n\tbackground-color: #3b82f6;\n\tcolor: #ffffff;\n\tfont-size: 32rpx;\n\tborder-radius: 8rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n</style>\n","import MiniProgramPage from 'C:/Users/24203/Desktop/workspace/daily-task-frontend/pages/applications/apply/apply.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}